<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed - Fix The District</title>
    <meta name="theme-color" content="#00843D">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='none' stroke='%23E32017' stroke-width='12'/><rect x='5' y='38' width='90' height='24' fill='%23003688'/><text x='50' y='54' font-family='Arial,sans-serif' font-size='10.5' fill='white' text-anchor='middle' font-weight='bold'>WIMBLEDON</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header class="header">
        <div class="header-inner">
            <h1>Fix The District <span class="line-badge">WIMBLEDON</span></h1>
        </div>
    </header>

    <nav class="nav">
        <div class="nav-inner">
            <a href="index.html">Report</a>
            <a href="feed.html" class="active">Feed</a>
            <a href="dashboard.html">Dashboard</a>
        </div>
    </nav>

    <main class="container">

        <!-- Demo mode toggle -->
        <div class="demo-toggle-bar">
            <label class="demo-toggle-label" for="demo-toggle">
                <input type="checkbox" id="demo-toggle" onchange="toggleDemoMode()">
                <span>Show demo data</span>
            </label>
        </div>
        <div id="demo-banner" class="demo-banner" style="display: none;">
            Viewing demo data â€” not real reports
        </div>

        <!-- Time lost hero -->
        <div id="time-lost-hero" class="time-lost-hero">
            <div class="big-label">Loading time lost data...</div>
        </div>

        <div class="card" style="padding: 12px 16px;">
            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <select id="filter-station" style="flex: 1; min-width: 120px; padding: 8px; border: 2px solid var(--border); border-radius: 8px; font-size: 13px; font-family: inherit;">
                    <option value="">All stations</option>
                    <option value="Wimbledon">Wimbledon</option>
                    <option value="Wimbledon Park">Wimbledon Park</option>
                    <option value="Southfields">Southfields</option>
                    <option value="East Putney">East Putney</option>
                    <option value="Putney Bridge">Putney Bridge</option>
                    <option value="Parsons Green">Parsons Green</option>
                    <option value="Fulham Broadway">Fulham Broadway</option>
                    <option value="West Brompton">West Brompton</option>
                    <option value="Earls Court">Earls Court</option>
                </select>
                <select id="filter-category" style="flex: 1; min-width: 120px; padding: 8px; border: 2px solid var(--border); border-radius: 8px; font-size: 13px; font-family: inherit;">
                    <option value="">All categories</option>
                    <option value="General Delays">General Delays</option>
                    <option value="Signal Failure">Signal Failure</option>
                    <option value="Overcrowding">Overcrowding</option>
                    <option value="Train Cancellation">Train Cancellation</option>
                    <option value="Reduced Service">Reduced Service</option>
                    <option value="No Announcements / Poor Comms">No Announcements / Poor Comms</option>
                    <option value="Safety Concern">Safety Concern</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>

        <div id="feed-container">
            <div style="text-align: center; padding: 40px; color: var(--text-muted);">
                <div class="spinner" style="border-top-color: var(--district-green); border-color: var(--border);"></div>
                <p style="margin-top: 12px; font-size: 14px;">Loading reports...</p>
            </div>
        </div>

        <div id="load-more-container" style="text-align: center; padding: 12px; display: none;">
            <button id="load-more-btn" class="btn" style="background: transparent; border: 2px solid var(--district-green); color: var(--district-green);">
                Load more
            </button>
        </div>
    </main>

    <div class="site-footer">
        <div class="footer-section">
            <h4>Your data and privacy</h4>
            <p>Your name will only be displayed if you choose to include it. We only store data for the purpose of collating evidence to improve District Line service. Data may be shared with your local MP and TfL.</p>
        </div>
        <div class="footer-section" style="text-align: center;">
            <p><a href="mailto:districtlinetracker@gmail.com?subject=Suggestion%20for%20Fix%20The%20District">Suggest an improvement or get in touch</a></p>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast"></div>

    <script src="js/demo-data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/feed.js"></script>
</body>
</html>
